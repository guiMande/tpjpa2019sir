/*C4*/SET SCHEMA PUBLIC
alter table Departement_Participant drop constraint FK_ho9fll3u3q3lp0qr4c2etaafn
alter table Departement_Participant drop constraint FK_5xhygewyffyedoangqugc2p0e
alter table Participant drop constraint FK_xg9ad01br2qcsx5on502pi62
alter table ReponsePossible drop constraint FK_jbmexqsvjdlw8i8odkum4j2fj
alter table Reponses drop constraint FK_m6p4nir4toyo6srlr9qfjlom6
alter table Reponses drop constraint FK_tox48flwghsuc6vt9rtkpbn24
alter table Reponses_Participant drop constraint FK_4xfpldkwg703edhabs4ehfrug
alter table Reponses_Participant drop constraint FK_rqsy6b41wibjrgsli56lkhe4c
alter table SondageTypeDateEtLieu_Choix drop constraint FK_qwhjmksw46ctj9pvhhv6ksa3p
alter table SondageTypeDateEtLieu_Choix drop constraint FK_akd05b8qni45axmw5c403r1oc
alter table SondageTypeDate_Choix drop constraint FK_fp6lmpqk71gqrg75b5cjmhemt
alter table SondageTypeDate_Choix drop constraint FK_ifc9yf301ivo0gd4adraggwc5
alter table SondageTypeLieu_Choix drop constraint FK_tk1k0q657vwpv7lnm4aqeev60
alter table SondageTypeLieu_Choix drop constraint FK_60ginkdlrv8bkdcs8t21uup7a
alter table SondageTypeListe_Choix drop constraint FK_gnepkb54aquesu50av9ml3mst
alter table SondageTypeListe_Choix drop constraint FK_d62klow5gd6ppo1sc56yodkw3
drop table Choix if exists
drop table Departement_Participant if exists
drop table Participant if exists
drop table ReponsePossible if exists
drop table Reponses if exists
drop table Reponses_Participant if exists
drop table SondageTypeDate if exists
drop table SondageTypeDateEtLieu if exists
drop table SondageTypeDateEtLieu_Choix if exists
drop table SondageTypeDate_Choix if exists
drop table SondageTypeLieu if exists
drop table SondageTypeLieu_Choix if exists
drop table SondageTypeListeChoix if exists
drop table SondageTypeListe_Choix if exists
create table Choix (id bigint generated by default as identity (start with 1), enonce varchar(2048), primary key (id))
create table Departement_Participant (Departement_id bigint not null, employees_id integer not null)
create table Participant (id integer generated by default as identity (start with 1), datenaissance date, firstName varchar(1024) not null, lastName varchar(1024) not null, department_id bigint, primary key (id))
create table ReponsePossible (id bigint generated by default as identity (start with 1), correct boolean not null, choixConcerne_id bigint, primary key (id))
create table Reponses (id bigint generated by default as identity (start with 1), datereponse date, responsePossible_id bigint, utilisateur_id integer, primary key (id))
create table Reponses_Participant (Reponses_id bigint not null, utilisateur_id integer not null)
create table SondageTypeDate (id bigint generated by default as identity (start with 1), choixUtilisateur timestamp, theme varchar(255), titre varchar(255), primary key (id))
create table SondageTypeDateEtLieu (id bigint generated by default as identity (start with 1), theme varchar(255), titre varchar(255), primary key (id))
create table SondageTypeDateEtLieu_Choix (SondageTypeDateEtLieu_id bigint not null, choix_id bigint not null)
create table SondageTypeDate_Choix (SondageTypeDate_id bigint not null, choix_id bigint not null)
create table SondageTypeLieu (id bigint generated by default as identity (start with 1), theme varchar(255), titre varchar(255), primary key (id))
create table SondageTypeLieu_Choix (SondageTypeLieu_id bigint not null, choix_id bigint not null)
create table SondageTypeListeChoix (id bigint generated by default as identity (start with 1), theme varchar(255), titre varchar(255), primary key (id))
create table SondageTypeListe_Choix (SondageTypeListeChoix_id bigint not null, choix_id bigint not null)
alter table Departement_Participant add constraint UK_ho9fll3u3q3lp0qr4c2etaafn  unique (employees_id)
alter table Reponses_Participant add constraint UK_4xfpldkwg703edhabs4ehfrug  unique (utilisateur_id)
alter table Departement_Participant add constraint FK_ho9fll3u3q3lp0qr4c2etaafn foreign key (employees_id) references Participant
alter table Departement_Participant add constraint FK_5xhygewyffyedoangqugc2p0e foreign key (Departement_id) references Departement
alter table Participant add constraint FK_xg9ad01br2qcsx5on502pi62 foreign key (department_id) references Departement
alter table ReponsePossible add constraint FK_jbmexqsvjdlw8i8odkum4j2fj foreign key (choixConcerne_id) references Choix
alter table Reponses add constraint FK_m6p4nir4toyo6srlr9qfjlom6 foreign key (responsePossible_id) references ReponsePossible
alter table Reponses add constraint FK_tox48flwghsuc6vt9rtkpbn24 foreign key (utilisateur_id) references Participant
alter table Reponses_Participant add constraint FK_4xfpldkwg703edhabs4ehfrug foreign key (utilisateur_id) references Participant
alter table Reponses_Participant add constraint FK_rqsy6b41wibjrgsli56lkhe4c foreign key (Reponses_id) references Reponses
alter table SondageTypeDateEtLieu_Choix add constraint FK_qwhjmksw46ctj9pvhhv6ksa3p foreign key (choix_id) references Choix
alter table SondageTypeDateEtLieu_Choix add constraint FK_akd05b8qni45axmw5c403r1oc foreign key (SondageTypeDateEtLieu_id) references SondageTypeDateEtLieu
alter table SondageTypeDate_Choix add constraint FK_fp6lmpqk71gqrg75b5cjmhemt foreign key (choix_id) references Choix
alter table SondageTypeDate_Choix add constraint FK_ifc9yf301ivo0gd4adraggwc5 foreign key (SondageTypeDate_id) references SondageTypeDate
alter table SondageTypeLieu_Choix add constraint FK_tk1k0q657vwpv7lnm4aqeev60 foreign key (choix_id) references Choix
alter table SondageTypeLieu_Choix add constraint FK_60ginkdlrv8bkdcs8t21uup7a foreign key (SondageTypeLieu_id) references SondageTypeLieu
alter table SondageTypeListe_Choix add constraint FK_gnepkb54aquesu50av9ml3mst foreign key (choix_id) references Choix
alter table SondageTypeListe_Choix add constraint FK_d62klow5gd6ppo1sc56yodkw3 foreign key (SondageTypeListeChoix_id) references SondageTypeListeChoix
INSERT INTO DEPARTEMENT VALUES(3,'java')
INSERT INTO PARTICIPANT VALUES(1,NULL,'Jakab',' Gipsz',3)
INSERT INTO PARTICIPANT VALUES(2,NULL,'Captain','Nemo',3)
COMMIT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
