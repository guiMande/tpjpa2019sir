/*C2*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
drop table Commentaire if exists
drop table Question if exists
drop table Reponse if exists
drop table Reponse_Participant if exists
drop table Reunion if exists
drop table Sondage if exists
drop table Sondage_Question if exists
create table Commentaire (id integer not null, text varchar(255), primary key (id))
create table Reponse (id bigint generated by default as identity (start with 1), choix varchar(255), datereponse date, primary key (id))
create table Reponse_Participant (Reponse_id bigint not null, participants_id integer not null)
create table Reunion (id integer not null, date timestamp, resume varchar(255), titre varchar(255), primary key (id))
create table Sondage (id integer generated by default as identity (start with 1), choix varchar(255), date timestamp, titre varchar(255), utilisateur_id integer, primary key (id))
create table Sondage_Question (Sondage_id integer not null, questions_id varchar(255) not null)
alter table Reponse_Participant add constraint UK_rme9o443yycbm85pkwnk66e3n  unique (participants_id)
alter table Sondage_Question add constraint UK_6gtfb1op9goroyqaq298objd9  unique (questions_id)
alter table Reponse_Participant add constraint FK_rme9o443yycbm85pkwnk66e3n foreign key (participants_id) references Participant
alter table Reponse_Participant add constraint FK_b1q5g4ra53gorg134ilo1d8ob foreign key (Reponse_id) references Reponse
alter table Sondage add constraint FK_3492vjn8a360b8mb6a9dd9n9n foreign key (utilisateur_id) references Participant
alter table Sondage_Question add constraint FK_e1sofvpmipdb6k8gt3g8c3syt foreign key (Sondage_id) references Sondage
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
